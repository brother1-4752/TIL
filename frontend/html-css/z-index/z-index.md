# Z-INDEX

---

### 쌓임 맥락이란?

- [ ] 정의 : 가상의 Z축을 사용한 HTMl 요소의 3차원 개념화이다. Z축은 사용자 기준이며, 사용자는 뷰포트 혹은 웹페이지를 바라보고 있을 것으로 가정한다. 각각의 HTML 요소는 자신의 속성에 따른 우선순위를 사용해 3차원 공간을 차지한다.
- 특정 요소의 렌더링 순서는 자신의 z-index 속성 값에 영향을 받는다. 이는 그 요소들이 가진 특별한 속성으로 인해 쌓임 맥락이 생성되기 때문이다.
- 쌓임 맥락은 문서 어디에서나, 다음의 조건을 만족하는 요소가 생성한다.
  1. 문서의 루트 요소 <html>
  2. position absolute 또는 relative이고, z-index가 auto가 아닌 요소
  3. position fixed 또는 sticky인 요소. sticky는 모든 모바일 브라우저에서는 해당하지만 구형 데스크탑 브라우저에서는 해당하지 않는다.
  4. flexbox 컨테이너의 자식 중 z-index가 auto가 아닌 요소
  5. grid 컨테이너의 자식 중 z-index가 auto가 아닌 요소
  6. opacity가 1보자 작은 요소(불투명도)
  7. mix-blend-mode가 normal이 아닌 요소
  8. 등등…
- 쌓임 맥락 안의 자식 요소는 이전에 설명했던 규칙을 동일하게 사용해 쌓인다. 중요한 것은, 자식의 z-index값은 부모에게만 의미가 있다는 점이다. 하나의 쌓임 맥락은 부모 쌓임 맥락 안에서 통째로 하나의 단위로 간주된다.

### 요약하면,

- 쌓임 맥락이 다른 쌓임 맥락을 포함할 수 있고, 함께 계층 구조를 이룬다.
- 쌓임 맥락은 형제 쌓임 맥락과 완전히 분리된다. 쌓임을 처리할 땐 자손 요소만 고려한다.
- 각각의 쌓임 맥락은 독립적이다. 어느 요소의 콘텐츠를 쌓은 후에는 그 요소를 통째 부모 쌓임 맥락 안에 배치한다.
- 모든 요소가 쌓임 맥락을 생성하는 건 아니므로, 쌓임 맥락의 계층 구조는 HTML 요소 계층 구조의 부분 집합이다. ‘자신의 쌓임 맥락을 만들지 않는 요소는 부모 쌓임 맥락에 의해 동화된다’라고 표현할 수 있겠다.
